/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package tn.MedicaSud.app.client.gui;

import com.jfoenix.controls.JFXButton;


import com.jfoenix.controls.JFXComboBox;
import com.jfoenix.controls.JFXTextField;

import Utilities.SendMail;

import java.io.IOException;
import java.net.URL;
import java.util.ArrayList;
import java.util.List;
import java.util.ResourceBundle;

import javax.naming.InitialContext;
import javax.naming.NamingException;

import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.scene.control.*;
import javafx.fxml.Initializable;
import javafx.scene.layout.AnchorPane;
import tn.MedicaSud.entities.Fournisseur;
import tn.MedicaSud.entities.Role;
import tn.MedicaSud.entities.StatutTicket;
import tn.MedicaSud.entities.TypeMateriel;
import tn.MedicaSud.entities.Utilisateur;
import tn.MedicaSud.services.FournisseurServicesRemote;
import tn.MedicaSud.services.UtilisateurServicesRemote;

/**
 * FXML Controller class
 *
 * @author USER
 */
public class AjouterMaterielController implements Initializable {
	@FXML
    private JFXTextField IdentifiantMateriel;
    @FXML
    private JFXTextField DescriptionMateriel;
    @FXML
    private JFXTextField MarqueMateriel;
    @FXML
    private JFXTextField DateAchatMateriel;
    @FXML
    private JFXTextField DureeGarantieMateriel;
    @FXML
    private JFXComboBox<TypeMateriel> TypeMateriel;
    @FXML
    private JFXButton Enregistrer;
    @FXML
    private JFXComboBox<Fournisseur> FournisseurMateriel;
    @FXML
    private JFXButton Enregistrer1;
    @FXML
    private Hyperlink NouveauFournisseur;
    Utilites utilities= new Utilites();
    private ObservableList<TypeMateriel> typeMterielData=FXCollections.observableArrayList();
    private ObservableList<Fournisseur> fournissursData=FXCollections.observableArrayList();

    /**
     * Initializes the controller class.
     */
    @Override
    public void initialize(URL url, ResourceBundle rb) {
          tn.MedicaSud.entities.TypeMateriel data=TypeMateriel.getValue();
     	   this.TypeMateriel.setItems(typeMterielData);
     	   
     	   try {
			utilities.context= new InitialContext();
			utilities.fournisseurServicesRemote= (FournisseurServicesRemote) utilities.context.lookup(utilities.FournisseurRemote);
			List<Fournisseur> fournisseurs= new ArrayList<Fournisseur>();
			fournissursData=(ObservableList<Fournisseur>) utilities.fournisseurServicesRemote.findAll();
			FournisseurMateriel.setItems(fournissursData);
		} catch (NamingException e) {
			
		}
     	   
     	   
     	   
    }    

    @FXML
    private void EnregistrerMateriel(ActionEvent event) {
    }

    @FXML
    private void AffecterUtilisateurMAteriel(ActionEvent event) {
    }

    @FXML
    private void NouveauFournisseurAction(ActionEvent event) throws IOException {
    	utilities.newStageWithOldStage("AjouterFournisseur.fxml");
    }
    
}
